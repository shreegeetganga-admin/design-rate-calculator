<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Freelance Rate Calculator</title>
    <meta name="description" content="Free design rate calculator for freelance designers. Calculate your minimum hourly and project rate based on your salary goal, expenses, and working hours. Multi-currency.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        :root {
            --ink: #0f0f0f;
            --ink-muted: #6b6b6b;
            --ink-faint: #b0b0b0;
            --surface: #ffffff;
            --surface-alt: #f5f4f1;
            --accent: #ff4d00;
            --accent-soft: #fff0eb;
            --border: #e8e6e1;
            --success-bg: #edfaf3;
            --success-ink: #1a6640;
            --error-bg: #fff0f0;
            --error-ink: #991b1b;
            --radius: 10px;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--surface-alt);
            color: var(--ink);
            min-height: 100vh;
            padding: 32px 16px 64px;
        }

        .wrapper {
            max-width: 1040px;
            margin: 0 auto;
        }

        /* ── HEADER ── */
        header {
            text-align: center;
            margin-bottom: 40px;
        }

        .eyebrow {
            font-family: 'DM Sans', sans-serif;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--ink-muted);
            margin-bottom: 10px;
        }

        h1 {
            font-family: 'Syne', sans-serif;
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 800;
            line-height: 1.1;
            color: var(--ink);
            letter-spacing: -0.02em;
        }

        h1 span {
            color: var(--accent);
        }

        /* ── CURRENCY BAR ── */
        .currency-bar {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .currency-bar label {
            font-size: 13px;
            font-weight: 500;
            color: var(--ink-muted);
            white-space: nowrap;
        }

        .currency-bar select {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: var(--surface-alt);
            color: var(--ink);
            cursor: pointer;
        }

        #status {
            font-size: 13px;
            margin-left: auto;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge.live { background: var(--success-bg); color: var(--success-ink); }
        .badge.error { background: var(--error-bg); color: var(--error-ink); }
        .badge::before { content: '●'; font-size: 8px; }

        /* ── MAIN GRID ── */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 20px;
            align-items: start;
        }

        @media (max-width: 820px) {
            .main-grid { grid-template-columns: 1fr; }
        }

        /* ── CARDS ── */
        .card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 28px;
        }

        .card-title {
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            letter-spacing: 0.01em;
            color: var(--ink);
            margin-bottom: 20px;
            padding-bottom: 14px;
            border-bottom: 1px solid var(--border);
        }

        /* ── FORM ── */
        .field { margin-bottom: 16px; }

        .field label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: var(--ink-muted);
            margin-bottom: 6px;
        }

        .field input {
            width: 100%;
            padding: 11px 14px;
            font-family: 'DM Sans', sans-serif;
            font-size: 15px;
            border: 1px solid var(--border);
            border-radius: 7px;
            background: var(--surface-alt);
            color: var(--ink);
            transition: border-color 0.15s;
        }

        .field input:focus {
            outline: none;
            border-color: var(--accent);
            background: var(--surface);
        }

        /* ── BUTTONS ── */
        .btn-primary {
            width: 100%;
            padding: 14px;
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 8px;
            transition: opacity 0.15s, transform 0.1s;
        }

        .btn-primary:hover { opacity: 0.9; transform: translateY(-1px); }
        .btn-primary:active { transform: translateY(0); }

        .btn-row {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }

        .btn-secondary {
            flex: 1;
            padding: 9px 12px;
            font-family: 'DM Sans', sans-serif;
            font-size: 12px;
            font-weight: 500;
            background: transparent;
            color: var(--ink-muted);
            border: 1px solid var(--border);
            border-radius: 7px;
            cursor: pointer;
            transition: background 0.15s;
        }

        .btn-secondary:hover { background: var(--surface-alt); }

        /* ── RESULT ── */
        #result { margin-top: 20px; }

        .result-card {
            background: var(--ink);
            color: white;
            border-radius: var(--radius);
            padding: 24px;
        }

        .result-label {
            font-size: 11px;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.5);
            margin-bottom: 8px;
        }

        .result-hero {
            font-family: 'Syne', sans-serif;
            font-size: clamp(42px, 8vw, 64px);
            font-weight: 800;
            line-height: 1;
            color: white;
            letter-spacing: -0.03em;
        }

        .result-hero span {
            color: var(--accent);
        }

        .result-sub {
            font-size: 13px;
            color: rgba(255,255,255,0.5);
            margin-top: 4px;
            margin-bottom: 16px;
        }

        .result-divider {
            border: none;
            border-top: 1px solid rgba(255,255,255,0.1);
            margin: 16px 0;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: rgba(255,255,255,0.6);
            margin-bottom: 6px;
        }

        .result-row strong { color: white; font-weight: 500; }

        .result-conversions {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 12px;
            color: rgba(255,255,255,0.4);
        }

        .error-msg {
            background: var(--error-bg);
            color: var(--error-ink);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
        }

        /* ── RIGHT PANE ── */
        .right-pane { display: flex; flex-direction: column; gap: 16px; }

        /* ── BENCHMARKS ── */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead th {
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--ink-faint);
            text-align: left;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        tbody td {
            padding: 10px 0;
            font-size: 13px;
            border-bottom: 1px solid var(--border);
            color: var(--ink);
        }

        tbody tr:last-child td { border-bottom: none; }

        td:first-child { color: var(--ink-muted); }

        /* ── TIPS ── */
        .tips-card {
            background: var(--accent-soft);
            border: 1px solid rgba(255,77,0,0.15);
        }

        .tips-card .card-title { border-bottom-color: rgba(255,77,0,0.15); }

        .tips-list { list-style: none; display: flex; flex-direction: column; gap: 10px; }

        .tips-list li {
            font-size: 13px;
            color: var(--ink-muted);
            padding-left: 16px;
            position: relative;
            line-height: 1.5;
        }

        .tips-list li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 12px;
        }
    </style>
</head>
<body>
<div class="wrapper">

    <header>
        <p class="eyebrow">Free tool for freelance designers</p>
        <h1>Know your <span>minimum rate.</span><br>Stop undercharging.</h1>
    </header>

    <div class="currency-bar">
        <label for="currency">Your currency</label>
        <select id="currency"></select>
        <div id="status"></div>
    </div>

    <div class="main-grid">

        <!-- LEFT: inputs + result -->
        <div>
            <div class="card">
                <p class="card-title">Your financial goals</p>

                <div class="field">
                    <label>Desired annual salary</label>
                    <input type="number" id="salary" value="3000000" min="0">
                </div>
                <div class="field">
                    <label>Annual business expenses</label>
                    <input type="number" id="expenses" value="500000" min="0">
                </div>
                <div class="field">
                    <label>Working days per year</label>
                    <input type="number" id="days" value="220" min="1">
                </div>
                <div class="field">
                    <label>Hours per day</label>
                    <input type="number" id="hours" value="8" min="1">
                </div>
                <div class="field">
                    <label>Billable percentage (0–100)</label>
                    <input type="number" id="billable" value="70" min="1" max="100">
                </div>

                <button class="btn-primary" id="calcBtn">Calculate my rate</button>
                <div class="btn-row">
                    <button class="btn-secondary" id="saveBtn">Save as default</button>
                    <button class="btn-secondary" id="resetBtn">Reset</button>
                </div>
            </div>

            <div id="result" style="margin-top:16px;"></div>
        </div>

        <!-- RIGHT: benchmarks + tips -->
        <div class="right-pane">
            <div class="card">
                <p class="card-title">Beginner benchmark ranges</p>
                <table id="benchmarks">
                    <thead>
                        <tr><th>Service</th><th>Hourly</th><th>Project</th></tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div class="card tips-card">
                <p class="card-title">For new freelancers</p>
                <ul class="tips-list">
                    <li>Billable % is how much of your time is actually paid work. 50–70% is a healthy target.</li>
                    <li>Start in the middle of the benchmark range, not the bottom. Underpricing trains clients to undervalue you.</li>
                    <li>This is your <strong>floor</strong>, not your ceiling. Charge more as you gain confidence.</li>
                    <li>Rates auto-convert using a live currency API updated daily.</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    var supportedCurrencies = ['INR','USD','EUR','GBP','CAD','AUD','JPY','CHF','SGD','AED'];
    var benchmarksUSD = {
        hourly:  { logo: [20,35], social: [20,35], ui: [25,40] },
        project: { logo: [100,400], social: [75,200], ui: [500,1500] }
    };
    var services = ['logo','social','ui'];
    var rates = {};
    var rateStatus = 'loading';
    var DEFAULTS_KEY = 'designRateDefaults_v1';

    function populateCurrencySelect() {
        var select = document.getElementById('currency');
        select.innerHTML = '';
        supportedCurrencies.forEach(function(code) {
            var opt = document.createElement('option');
            opt.value = code;
            opt.textContent = code;
            if (code === 'INR') opt.selected = true;
            select.appendChild(opt);
        });
    }

    function loadRates() {
        var statusEl = document.getElementById('status');
        statusEl.innerHTML = '<span class="badge live">Loading rates…</span>';
        fetch('https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/usd.min.json')
            .then(function(res) { if (!res.ok) throw new Error(); return res.json(); })
            .then(function(data) {
                rates = data.usd || {};
                rates.usd = 1;
                rateStatus = 'live';
                var inr = rates.inr ? rates.inr.toFixed(2) : 'N/A';
                statusEl.innerHTML = '<span class="badge live">Live · 1 USD = ' + inr + ' INR</span>';
                updateBenchmarks(); calculate();
            })
            .catch(function() {
                rates = { inr:90.92, eur:0.92, gbp:0.79, cad:1.35, aud:1.50, jpy:150, chf:0.86, sgd:1.33, aed:3.67, usd:1 };
                rateStatus = 'fallback';
                statusEl.innerHTML = '<span class="badge error">Offline · fallback rates</span>';
                updateBenchmarks(); calculate();
            });
    }

    function convert(amount, fromCode, toCode) {
        var from = fromCode.toLowerCase(), to = toCode.toLowerCase();
        if (from === to) return amount;
        if (!rates[from] || !rates[to]) return null;
        return (amount / rates[from]) * rates[to];
    }

    function showError(msg) {
        document.getElementById('result').innerHTML = '<div class="error-msg">' + msg + '</div>';
    }

    function validateInputs() {
        var s = parseFloat(document.getElementById('salary').value);
        var e = parseFloat(document.getElementById('expenses').value);
        var d = parseFloat(document.getElementById('days').value);
        var h = parseFloat(document.getElementById('hours').value);
        var b = parseFloat(document.getElementById('billable').value);
        if ([s,e,d,h,b].some(isNaN)) { showError('Fill in all fields with numbers.'); return false; }
        if (s < 0 || e < 0 || d <= 0 || h <= 0 || b <= 0 || b > 100) { showError('Use positive numbers. Billable must be 1–100.'); return false; }
        return true;
    }

    function updateBenchmarks() {
        var curr = document.getElementById('currency').value;
        var code = curr.toLowerCase();
        var rate = rates[code] || 1;
        var tbody = document.querySelector('#benchmarks tbody');
        var labels = { logo: 'Logo design', social: 'Social graphics', ui: 'UI design' };
        tbody.innerHTML = services.map(function(svc) {
            return '<tr>' +
                '<td>' + labels[svc] + '</td>' +
                '<td>' + curr + ' ' + Math.round(benchmarksUSD.hourly[svc][0]*rate) + '–' + Math.round(benchmarksUSD.hourly[svc][1]*rate) + '</td>' +
                '<td>' + curr + ' ' + Math.round(benchmarksUSD.project[svc][0]*rate) + '–' + Math.round(benchmarksUSD.project[svc][1]*rate) + '</td>' +
                '</tr>';
        }).join('');
    }

    function calculate() {
        if (!validateInputs()) return;
        var curr     = document.getElementById('currency').value;
        var salary   = parseFloat(document.getElementById('salary').value);
        var expenses = parseFloat(document.getElementById('expenses').value);
        var days     = parseFloat(document.getElementById('days').value);
        var hours    = parseFloat(document.getElementById('hours').value);
        var billable = parseFloat(document.getElementById('billable').value);

        var billableHrs = days * hours * (billable / 100);
        var hourly = Math.round(((salary + expenses) / billableHrs) * 100) / 100;
        var daily  = Math.round(hourly * 8 * 100) / 100;

        var hourlyUSD = convert(hourly, curr, 'USD');
        var dailyUSD  = convert(daily,  curr, 'USD');
        var hourlyINR = convert(hourly, curr, 'INR');
        var dailyINR  = convert(daily,  curr, 'INR');

        var rateLabel = rateStatus === 'live' ? 'live rates' : 'fallback rates';

        // Split currency symbol from number for hero styling
        var symbols = { INR:'₹', USD:'$', EUR:'€', GBP:'£', CAD:'CA$', AUD:'A$', JPY:'¥', CHF:'CHF ', SGD:'S$', AED:'AED ' };
        var sym = symbols[curr] || curr + ' ';

        var conversions = '';
        if (hourlyUSD && curr !== 'USD') {
            conversions += 'USD $' + hourlyUSD.toFixed(2) + '/hr · $' + dailyUSD.toFixed(2) + '/day';
        }
        if (hourlyINR && curr !== 'INR') {
            conversions += (conversions ? '<br>' : '') + 'INR ₹' + Math.round(hourlyINR) + '/hr · ₹' + Math.round(dailyINR) + '/day';
        }

        document.getElementById('result').innerHTML =
            '<div class="result-card">' +
                '<p class="result-label">Your minimum rate · ' + rateLabel + '</p>' +
                '<div class="result-hero"><span>' + sym + '</span>' + hourly.toLocaleString() + '</div>' +
                '<p class="result-sub">per hour</p>' +
                '<hr class="result-divider">' +
                '<div class="result-row"><span>Daily rate (8h)</span><strong>' + curr + ' ' + daily.toLocaleString() + '</strong></div>' +
                '<div class="result-row"><span>Billable hours / year</span><strong>' + Math.round(billableHrs) + '</strong></div>' +
                (conversions ? '<p class="result-conversions">' + conversions + '</p>' : '') +
            '</div>';
    }

    function saveDefaults() {
        var data = {
            currency: document.getElementById('currency').value,
            salary:   document.getElementById('salary').value,
            expenses: document.getElementById('expenses').value,
            days:     document.getElementById('days').value,
            hours:    document.getElementById('hours').value,
            billable: document.getElementById('billable').value
        };
        try {
            localStorage.setItem(DEFAULTS_KEY, JSON.stringify(data));
            document.getElementById('status').innerHTML = '<span class="badge live">Defaults saved</span>';
        } catch(e) {
            document.getElementById('status').innerHTML = '<span class="badge error">Could not save</span>';
        }
    }

    function loadDefaults() {
        try {
            var raw = localStorage.getItem(DEFAULTS_KEY);
            if (!raw) return;
            var d = JSON.parse(raw);
            if (d.currency) document.getElementById('currency').value = d.currency;
            if (d.salary)   document.getElementById('salary').value   = d.salary;
            if (d.expenses) document.getElementById('expenses').value = d.expenses;
            if (d.days)     document.getElementById('days').value     = d.days;
            if (d.hours)    document.getElementById('hours').value    = d.hours;
            if (d.billable) document.getElementById('billable').value = d.billable;
        } catch(e) {}
    }

    function resetDefaults() {
        try { localStorage.removeItem(DEFAULTS_KEY); } catch(e) {}
        document.getElementById('currency').value = 'INR';
        document.getElementById('salary').value   = 3000000;
        document.getElementById('expenses').value = 500000;
        document.getElementById('days').value     = 220;
        document.getElementById('hours').value    = 8;
        document.getElementById('billable').value = 70;
        updateBenchmarks(); calculate();
    }

    document.addEventListener('DOMContentLoaded', function() {
        populateCurrencySelect();
        loadDefaults();
        document.getElementById('calcBtn').addEventListener('click', calculate);
        document.getElementById('currency').addEventListener('change', function() { updateBenchmarks(); calculate(); });
        document.querySelectorAll('input').forEach(function(el) { el.addEventListener('input', calculate); });
        document.getElementById('saveBtn').addEventListener('click', saveDefaults);
        document.getElementById('resetBtn').addEventListener('click', resetDefaults);
        loadRates();
    });
</script>
</body>
</html>
